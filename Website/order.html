
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />  <title>Order Your Custom Map — Elevon</title>  <meta name="description" content="Order your custom 3D-printed trail map from Elevon. Upload your trail or race course and bring it to life." />
  <link rel="stylesheet" href="style.css" />
  <!-- Immediate theme initialization to prevent flash -->
  <script>
    // Set light theme immediately
    document.documentElement.setAttribute('data-theme', localStorage.getItem('theme') || 'light');
  </script>  <script async src="https://tally.so/widgets/embed.js"></script>
</head>
<body>
  <header>
    <div class="nav-bg-pazzaz"></div>
    <nav class="main-nav glass-nav" role="navigation" aria-label="Main navigation">
      <a href="index.html">Home</a>
      <a href="order.html" aria-current="page">Order</a>
      <a href="about.html">About</a>
    </nav>
  </header>

  <main>
    <section class="order-section">
      <div class="order-hero-card">
        <h1>Order Your Custom Map</h1>
        <div class="accent-bar"></div>
        <div class="order-tagline">Bring your favorite trail to life in 3D.</div>
      </div>
      <div class="order-iframe-card" tabindex="0">
        <div class="order-iframe-loading" id="order-iframe-loading" aria-live="polite">Loading order form…</div>
        <iframe data-tally-src="https://tally.so/embed/npM1lV?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1" loading="lazy" width="100%" height="520" frameborder="0" marginheight="0" marginwidth="0" title="Order Your Custom 3D Trail Map" aria-label="Order Your Custom 3D Trail Map" onload="document.getElementById('order-iframe-loading').style.display='none';"></iframe>
      </div>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Elevon. All rights reserved.</p>
  </footer>

  <script>    // Enhanced theme management system
    function initializeTheme() {
      const savedTheme = localStorage.getItem('theme');
      const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      // Default to light mode unless user has explicitly set a preference
      const theme = savedTheme || 'light';
      
      // Apply theme to document root immediately
      document.documentElement.setAttribute('data-theme', theme);
      
      // Also set CSS class for backup
      document.body.className = theme === 'dark' ? 'dark-theme' : 'light-theme';
      
      return theme;
    }

    // Listen for system theme changes
    function setupThemeListener() {
      const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
      
      mediaQuery.addEventListener('change', (e) => {
        // Only auto-switch if user hasn't manually set a preference
        if (!localStorage.getItem('theme')) {
          const newTheme = e.matches ? 'dark' : 'light';
          document.documentElement.setAttribute('data-theme', newTheme);
        }
      });
    }

    // Initialize theme system
    initializeTheme();
    setupThemeListener();
  </script>
</body>
</html>